<!DOCTYPE html>
<html lang="en">
<style>

body {
  font: 10px sans-serif;
}

.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}

.bar {
  fill: #8aa3e1;
}

.bar:hover {
  fill: orangered ;
}

.x.axis path {
  display: none;
}

.d3-tip {
  line-height: 1;
  font-weight: bold;
  padding: 12px;
  background: rgba(0, 0, 0, 0.8);
  color: #fff;
  border-radius: 2px;
}

/* Creates a small triangle extender for the tooltip */
.d3-tip:after {
  box-sizing: border-box;
  display: inline;
  font-size: 10px;
  width: 100%;
  line-height: 1;
  color: rgba(0, 0, 0, 0.8);
  content: "\25BC";
  position: absolute;
  text-align: center;
}

/* Style northward tooltips differently */
.d3-tip.n:after {
  margin: -1px 0 0 0;
  top: 100%;
  left: 0;
}
</style>
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Team 09 Insights</title>
    <!-- Bootstrap Core CSS -->
    <link href="../../css/bootstrap.min.css" rel="stylesheet">

    <!-- Scrolling Nav CSS -->
    <link href="../../css/scrolling-nav.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="../../css/styles.css" rel="stylesheet">
	
	
	<!-- css for viz1 -->
    <link href="../../css/Team09/styles.css" rel="stylesheet">

</head>

<!-- The #page-top ID is part of the scrolling feature - the data-spy and data-target are part of the built-in Bootstrap scrollspy function -->

<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">

    <!-- Navigation -->
    <div id="nav-main">
    <nav class="navbar mav-main navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                
            </div>

            <div class="collapse navbar-collapse navbar-ex1-collapse">  
              <nav id="nav-wrap">
                <ul class="nav navbar-nav navbar-custom">
                    <li class="current"><a class="page-scroll" href="../index.html#page-top" style="color:white">Home</a></li>
                    <li class="hidden"><a class="page-scroll" href="#page-top" style="color:white"></a></li>
                    <li><a class="page-scroll" href="../index.html#about" style="color:#ffffff">About</a></li>
                    <li><a class="page-scroll" href="../index.html#features" style="color:#ffffff">Insights</a></li>
                    <li><a class="page-scroll" style="color:#ffffff" href="../index.html#learn-more">Partners</a></li>
                </ul>
              </nav>

                <a href="http://usc.edu" class="pull-right">
                  <img src="../../images/usc-primary-logotype.svg" width="176px" height="38px">
                </a>
            </div>
        </div>
    </nav>
  </div>
	

    <hr class="featurette-divider">
    <div>
        <div class="container">
            <footer>
                <p align=center>©USC Data Science Group 2016, All Rights Reserved</p>
            </footer>
        </div>
    </div>
	
	
	<div class="container">
	
		<div class="row">
			
			<h1>Number of Sightings by State</h1>
		</div>
		<div class="row" id="chart1">
			
			
		</div>
		<footer class="page-footer font-small blue pt-4 mt-4">

			<!--Footer Links-->
			<div class="container-fluid text-right text-md-right">
				<div class="row">

				   

					<!--Second column-->
					<div class="col-md-6.offset-md-6">
						<h5 class="text-uppercase">Credits</h5>
						<ul class="list-unstyled">
							<li>
								<a href="https://www.linkedin.com/in/arpitbh/" target="_blank">Arpit Bhardwaj</a>
							</li>
							<li>
								<a href="https://www.linkedin.com/in/renuka-raju/" target="_blank">Renuka Raju</a>
							</li>
							<li>
								<a href="https://www.linkedin.com/in/sanchit-lodha/" target="_blank">Sanchit Lodha</a>
							</li>
							
						</ul>
					</div>
					<!--/.Second column-->
				</div>
			</div>
			<!--/.Footer Links-->
			<p align=center>©USC Data Science Group 2016, All Rights Reserved</p>
    
		</footer>
	
	</div>
<!-- jQuery -->
    <script src="../../js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="../../js/bootstrap.min.js"></script>

    <!-- Scrolling Nav JavaScript -->
    <script src="../../js/jquery.easing.min.js"></script>
    <script src="../../js/scrolling-nav.js"></script>
    <script src="../../js/cardpanel.js"></script>
	
	
	
	
	<script src="http://d3js.org/d3.v3.min.js"></script>
	<script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
	<script>

	var margin = {top: 40, right: 20, bottom: 30, left: 70},
		width = 1200 - margin.left - margin.right,
		height = 450 - margin.top - margin.bottom;

	var formatPercent = d3.format(".0%");

	var x = d3.scale.ordinal()
		.rangeRoundBands([0, width], .1);

	var y = d3.scale.linear()
		.range([height, 0]);

	var xAxis = d3.svg.axis()
		.scale(x)
		.orient("bottom");

	var yAxis = d3.svg.axis()
		.scale(y)
		.orient("left");

	var tip = d3.tip()
	  .attr('class', 'd3-tip')
	  .offset([-10, 0])
	  .html(function(d) {
		return "<strong>No. of Sightings:</strong> <span style='color:red'>" + d.sightings + "</span>";
	  })

	var svg = d3.select("#chart1").append("svg")
		.attr("width", width + margin.left + margin.right)
		.attr("height", height + margin.top + margin.bottom)
	  .append("g")
		.attr("transform", "translate(" + margin.left + "," + margin.top + ")");

	svg.call(tip);

	d3.tsv("data/visualization1/StatesFull.tsv", type, function(error, data) {
	  x.domain(data.map(function(d) { return d.state; }));
	  y.domain([0, d3.max(data, function(d) { return d.sightings; })]);

	  svg.append("g")
		  .attr("class", "x axis")
		  .attr("transform", "translate(0," + height + ")")
		  .call(xAxis)
		  .selectAll("text")
		  .attr("y", 0)
		  .attr("x", 9)
		  .attr("dy", ".35em")
		  .attr("transform", "rotate(90)")
		  .style("text-anchor", "start");;

	  svg.append("g")
		  .attr("class", "y axis")
		  .call(yAxis)
		.append("text")
		  .attr("transform", "rotate(-90)")
		  .attr("y", 6)
		  .attr("dy", ".71em")
		  .style("text-anchor", "end")
		  .text("Number of Sightings");  

	  svg.selectAll(".bar")
		  .data(data)
		.enter().append("rect")
		  .attr("class", "bar")
		  .attr("x", function(d) { console.log(d.state);return x(d.state); })
		  .attr("width", x.rangeBand())
		  .attr("y", function(d) { console.log(d.sightings);return y(d.sightings); })
		  .attr("height", function(d) { return height - y(d.sightings); })
		  .on('mouseover', tip.show)
		  .on('mouseout', tip.hide)

	});

	function type(d) {
	  d.sightings = +d.sightings;
	  return d;
	}

	</script>
</body>
</html>