<html>
  <head>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="src/d3-transform.js"></script>
  </head>
  <body>
    <svg class="example1"></svg>
    <script>
var transform = d3.svg.transform()
    .translate(function(d) { return [20, d.size * 10] })
    .rotate(40)
    .scale(function(d) { return d.size + 2 });

console.log(transform({'size':5}));

var svg = d3.select('svg.example1').selectAll('g')
    .data([{ size: 5 }, { size: 10 }])
    .enter()
    .append('g')
    .attr('transform', transform);

console.log(svg.length);
    </script>
    <svg class="example2"></svg>
    <script>
var transform1 = d3.svg.transform()
  .translate(10,20);

var transform2 = d3.svg.transform(transform1)
  .scale(function(d) { return [d.size];})

d3.select('svg.example2').selectAll('g')
    .data([{ 'size' : 5 }, { 'size' : 10 }])
  .enter().append('g')
    .attr('transform', transform2);
  </script>
  </body>
</html>
